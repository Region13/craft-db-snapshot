{# @var craft \craft\web\twig\variables\CraftVariable #}
{#
/**
 * DB Snapshot plugin for Craft CMS 3.x
 *
 * DB Snapshot Settings.twig
 *
 * @author    Josh butts
 * @copyright Copyright (c) 2019 Josh butts
 * @link      https://github.com/jimbojsb
 * @package   DbSnapshot
 * @since     1.0.0
 */
#}

{% import "_includes/forms" as forms %}

{% do view.registerAssetBundle("jimbojsb\\dbsnapshot\\assetbundles\\dbsnapshot\\DbSnapshotAsset") %}


{{ forms.textField({
    label: 'Access Key',
    instructions: '',
    id: 'accessKey',
    name: 'accessKey',
    value: settings['accessKey']})
}}

{{ forms.textField({
    label: 'Secret Key',
    instructions: '',
    id: 'secretKey',
    name: 'secretKey',
    value: settings['secretKey']})
}}

{{ forms.textField({
    label: 'Endpoint',
    instructions: 'Leave empty unless using a non-AWS S3-compatible service',
    id: 'endpoint',
    name: 'endpoint',
    value: settings['endpoint']})
}}
{{ forms.textField({
    label: 'Region',
    instructions: '',
    id: 'region',
    name: 'region',
    value: settings['region']})
}}

{{ forms.textField({
    label: 'Bucket Name',
    instructions: '',
    id: 'bucket',
    name: 'bucket',
    value: settings['bucket']})
}}

{{ forms.textField({
    label: 'Subfolder path to store snapshot in',
    instructions: '',
    id: 'path',
    name: 'path',
    value: settings['path']})
}}


{{ forms.textField({
    label: 'Snapshot filename',
    instructions: 'Only the filename, not inclusive of any path information',
    id: 'filename',
    name: 'filename',
    value: settings['filename']})
}}

{{ forms.lightSwitchField({
    label: 'Compress backups?',
    instructions: 'Compress backup with gzip. (assumes /bin/gzip exists) ',
    id: 'compress',
    name: 'compress',
    on: settings['compress'] == true})
}}